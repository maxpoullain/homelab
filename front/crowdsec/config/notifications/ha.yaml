type: http
name: homeassistant_webhook
format: |
  {"title": "CrowdSec Alert", "message": "{{$alert := index . 0}}{{$decision := index $alert.Decisions 0}}{{$cn := upper $alert.Source.Cn}}{{$flag := `ğŸ´â€â˜ ï¸`}}{{if eq $cn `BR`}}{{$flag = `ğŸ‡§ğŸ‡·`}}{{else if eq $cn `CA`}}{{$flag = `ğŸ‡¨ğŸ‡¦`}}{{else if eq $cn `CN`}}{{$flag = `ğŸ‡¨ğŸ‡³`}}{{else if eq $cn `DE`}}{{$flag = `ğŸ‡©ğŸ‡ª`}}{{else if eq $cn `FR`}}{{$flag = `ğŸ‡«ğŸ‡·`}}{{else if eq $cn `GB`}}{{$flag = `ğŸ‡¬ğŸ‡§`}}{{else if eq $cn `IN`}}{{$flag = `ğŸ‡®ğŸ‡³`}}{{else if eq $cn `IR`}}{{$flag = `ğŸ‡®ğŸ‡·`}}{{else if eq $cn `IL`}}{{$flag = `ğŸ‡®ğŸ‡±`}}{{else if eq $cn `JP`}}{{$flag = `ğŸ‡¯ğŸ‡µ`}}{{else if eq $cn `KR`}}{{$flag = `ğŸ‡°ğŸ‡·`}}{{else if eq $cn `LV`}}{{$flag = `ğŸ‡±ğŸ‡»`}}{{else if eq $cn `NG`}}{{$flag = `ğŸ‡³ğŸ‡¬`}}{{else if eq $cn `NL`}}{{$flag = `ğŸ‡³ğŸ‡±`}}{{else if eq $cn `PK`}}{{$flag = `ğŸ‡µğŸ‡°`}}{{else if eq $cn `RU`}}{{$flag = `ğŸ‡·ğŸ‡º`}}{{else if eq $cn `TR`}}{{$flag = `ğŸ‡¹ğŸ‡·`}}{{else if eq $cn `UA`}}{{$flag = `ğŸ‡ºğŸ‡¦`}}{{else if eq $cn `US`}}{{$flag = `ğŸ‡ºğŸ‡¸`}}{{else if eq $cn `VN`}}{{$flag = `ğŸ‡»ğŸ‡³`}}{{else if eq $cn `RO`}}{{$flag = `ğŸ‡·ğŸ‡´`}}{{else if eq $cn `BG`}}{{$flag = `ğŸ‡§ğŸ‡¬`}}{{else if eq $cn `PL`}}{{$flag = `ğŸ‡µğŸ‡±`}}{{else if eq $cn `IT`}}{{$flag = `ğŸ‡®ğŸ‡¹`}}{{else if eq $cn `ES`}}{{$flag = `ğŸ‡ªğŸ‡¸`}}{{else if eq $cn `SE`}}{{$flag = `ğŸ‡¸ğŸ‡ª`}}{{else if eq $cn `CH`}}{{$flag = `ğŸ‡¨ğŸ‡­`}}{{else if eq $cn `CZ`}}{{$flag = `ğŸ‡¨ğŸ‡¿`}}{{else if eq $cn `SG`}}{{$flag = `ğŸ‡¸ğŸ‡¬`}}{{else if eq $cn `AU`}}{{$flag = `ğŸ‡¦ğŸ‡º`}}{{else if eq $cn `ID`}}{{$flag = `ğŸ‡®ğŸ‡©`}}{{else if eq $cn `TH`}}{{$flag = `ğŸ‡¹ğŸ‡­`}}{{else if eq $cn `SA`}}{{$flag = `ğŸ‡¸ğŸ‡¦`}}{{else if eq $cn `AE`}}{{$flag = `ğŸ‡¦ğŸ‡ª`}}{{else if eq $cn `EG`}}{{$flag = `ğŸ‡ªğŸ‡¬`}}{{else if eq $cn `MX`}}{{$flag = `ğŸ‡²ğŸ‡½`}}{{else if eq $cn `AR`}}{{$flag = `ğŸ‡¦ğŸ‡·`}}{{else if eq $cn `CO`}}{{$flag = `ğŸ‡¨ğŸ‡´`}}{{else if eq $cn `ZA`}}{{$flag = `ğŸ‡¿ğŸ‡¦`}}{{else if eq $cn `AT`}}{{$flag = `ğŸ‡¦ğŸ‡¹`}}{{else if eq $cn `BE`}}{{$flag = `ğŸ‡§ğŸ‡ª`}}{{else if eq $cn `DK`}}{{$flag = `ğŸ‡©ğŸ‡°`}}{{else if eq $cn `FI`}}{{$flag = `ğŸ‡«ğŸ‡®`}}{{else if eq $cn `GR`}}{{$flag = `ğŸ‡¬ğŸ‡·`}}{{else if eq $cn `HU`}}{{$flag = `ğŸ‡­ğŸ‡º`}}{{else if eq $cn `IE`}}{{$flag = `ğŸ‡®ğŸ‡ª`}}{{else if eq $cn `NO`}}{{$flag = `ğŸ‡³ğŸ‡´`}}{{else if eq $cn `PT`}}{{$flag = `ğŸ‡µğŸ‡¹`}}{{else if eq $cn `SK`}}{{$flag = `ğŸ‡¸ğŸ‡°`}}{{end}}{{if $alert.Source.Cn}}{{$flag}} {{$alert.Source.Cn}} [{{$alert.Source.IP}}](https://db-ip.com/{{$alert.Source.IP}}) banned for {{$decision.Duration}}.\nReason: **{{$alert.Scenario}}**{{else}}{{$flag}} Unknown country [{{$alert.Source.IP}}](https://db-ip.com/{{$alert.Source.IP}}) banned for {{$decision.Duration}}.\nReason: **{{$alert.Scenario}}**{{end}}"}
url: https://home.corsair.tf/api/webhook/notifications-webhook-4FPLVfhymqyqWARwgYWqiEAo
method: POST
headers:
  Content-Type: application/json