type: http
name: homeassistant_webhook
format: |
  {"title": "CrowdSec Alert", "message": "{{$alert := index . 0}}{{$decision := index $alert.Decisions 0}}{{$flag := `ğŸ´â€â˜ ï¸`}}{{if eq $alert.Source.Cn `BR`}}{{$flag = `ğŸ‡§ğŸ‡·`}}{{else if eq $alert.Source.Cn `CA`}}{{$flag = `ğŸ‡¨ğŸ‡¦`}}{{else if eq $alert.Source.Cn `CN`}}{{$flag = `ğŸ‡¨ğŸ‡³`}}{{else if eq $alert.Source.Cn `DE`}}{{$flag = `ğŸ‡©ğŸ‡ª`}}{{else if eq $alert.Source.Cn `FR`}}{{$flag = `ğŸ‡«ğŸ‡·`}}{{else if eq $alert.Source.Cn `GB`}}{{$flag = `ğŸ‡¬ğŸ‡§`}}{{else if eq $alert.Source.Cn `IN`}}{{$flag = `ğŸ‡®ğŸ‡³`}}{{else if eq $alert.Source.Cn `IR`}}{{$flag = `ğŸ‡®ğŸ‡·`}}{{else if eq $alert.Source.Cn `IL`}}{{$flag = `ğŸ‡®ğŸ‡±`}}{{else if eq $alert.Source.Cn `JP`}}{{$flag = `ğŸ‡¯ğŸ‡µ`}}{{else if eq $alert.Source.Cn `KR`}}{{$flag = `ğŸ‡°ğŸ‡·`}}{{else if eq $alert.Source.Cn `LV`}}{{$flag = `ğŸ‡±ğŸ‡»`}}{{else if eq $alert.Source.Cn `NG`}}{{$flag = `ğŸ‡³ğŸ‡¬`}}{{else if eq $alert.Source.Cn `NL`}}{{$flag = `ğŸ‡³ğŸ‡±`}}{{else if eq $alert.Source.Cn `PK`}}{{$flag = `ğŸ‡µğŸ‡°`}}{{else if eq $alert.Source.Cn `RU`}}{{$flag = `ğŸ‡·ğŸ‡º`}}{{else if eq $alert.Source.Cn `TR`}}{{$flag = `ğŸ‡¹ğŸ‡·`}}{{else if eq $alert.Source.Cn `UA`}}{{$flag = `ğŸ‡ºğŸ‡¦`}}{{else if eq $alert.Source.Cn `US`}}{{$flag = `ğŸ‡ºğŸ‡¸`}}{{else if eq $alert.Source.Cn `VN`}}{{$flag = `ğŸ‡»ğŸ‡³`}}{{else if eq $alert.Source.Cn `RO`}}{{$flag = `ğŸ‡·ğŸ‡´`}}{{else if eq $alert.Source.Cn `BG`}}{{$flag = `ğŸ‡§ğŸ‡¬`}}{{else if eq $alert.Source.Cn `PL`}}{{$flag = `ğŸ‡µğŸ‡±`}}{{else if eq $alert.Source.Cn `IT`}}{{$flag = `ğŸ‡®ğŸ‡¹`}}{{else if eq $alert.Source.Cn `ES`}}{{$flag = `ğŸ‡ªğŸ‡¸`}}{{else if eq $alert.Source.Cn `SE`}}{{$flag = `ğŸ‡¸ğŸ‡ª`}}{{else if eq $alert.Source.Cn `CH`}}{{$flag = `ğŸ‡¨ğŸ‡­`}}{{else if eq $alert.Source.Cn `CZ`}}{{$flag = `ğŸ‡¨ğŸ‡¿`}}{{else if eq $alert.Source.Cn `SG`}}{{$flag = `ğŸ‡¸ğŸ‡¬`}}{{else if eq $alert.Source.Cn `AU`}}{{$flag = `ğŸ‡¦ğŸ‡º`}}{{else if eq $alert.Source.Cn `ID`}}{{$flag = `ğŸ‡®ğŸ‡©`}}{{else if eq $alert.Source.Cn `TH`}}{{$flag = `ğŸ‡¹ğŸ‡­`}}{{else if eq $alert.Source.Cn `SA`}}{{$flag = `ğŸ‡¸ğŸ‡¦`}}{{else if eq $alert.Source.Cn `AE`}}{{$flag = `ğŸ‡¦ğŸ‡ª`}}{{else if eq $alert.Source.Cn `EG`}}{{$flag = `ğŸ‡ªğŸ‡¬`}}{{else if eq $alert.Source.Cn `MX`}}{{$flag = `ğŸ‡²ğŸ‡½`}}{{else if eq $alert.Source.Cn `AR`}}{{$flag = `ğŸ‡¦ğŸ‡·`}}{{else if eq $alert.Source.Cn `CO`}}{{$flag = `ğŸ‡¨ğŸ‡´`}}{{else if eq $alert.Source.Cn `ZA`}}{{$flag = `ğŸ‡¿ğŸ‡¦`}}{{end}}{{if $alert.Source.Cn}}{{$flag}} {{$alert.Source.Cn}} [{{$alert.Source.IP}}](https://db-ip.com/{{$alert.Source.IP}}) banned for {{$decision.Duration}}.\nReason: **{{$alert.Scenario}}**{{else}}{{$flag}} Unknown country [{{$alert.Source.IP}}](https://db-ip.com/{{$alert.Source.IP}}) banned for {{$decision.Duration}}.\nReason: **{{$alert.Scenario}}**{{end}}"}
url: https://home.corsair.tf/api/webhook/notifications-webhook-4FPLVfhymqyqWARwgYWqiEAo
method: POST
headers:
  Content-Type: application/json